<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" variant="brand" size="small"></lightning-spinner>
    </template>
    <template if:true={recordId}>

    <div class="slds-m-top_small slds-m-bottom_large slds-m-left_small slds-m-right_small ">
    <div class='slds-box slds-box_x-small slds-theme_shade slds-m-top_small slds-p-top_small slds-p-left_small'>

        <p class='slds-text-heading_medium'>
            <b>Order Edit And View</b>
        </p>
    </div>
    
    <template if:true={render}>
        
    
            <div class="slds-grid slds-gutters slds-m-top_small slds-border_bottom slds-border_top slds-m-bottom_small">
                <div class="slds-col slds-size_1-of-4">
                    <lightning-input type="text"  label="Retailer PO Number"></lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-4">
                    <lightning-input type="text" read-only value={recData.orderDate} label="Order Date"></lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-4">
                    <lightning-input type="text" read-only value={recData.AccName} label="Store"></lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-4  slds-m-top_small">
                    {recData.paymentmethods}
                </div>
        </div>

        <div class="slds-grid slds-gutters slds-m-top_small slds-border_bottom slds-border_top slds-m-bottom_small">
            <div class="slds-col slds-size_1-of-4">
                <lightning-input type="text"  label="Delivery Date"></lightning-input>
            </div>
            <div class="slds-col slds-size_1-of-4 slds-m-top_small">
                Credit Limit : {recData.creditLimit}
            </div>
            <div class="slds-col slds-size_1-of-4 slds-m-top_small">
                Credit days :{recData.creditDays}
            </div>
            <div class="slds-col slds-size_1-of-4 slds-m-top_small">
                Available Credit Limit : {recData.avbCreditLimit}
            </div>
        </div> 
         
        <template if:true={renderTable}>

            <c-paginatio-table-comp accountdata={data} total={total} ></c-paginatio-table-comp>

         </template> 

        <c-generic-pagination serverdata={productdata} onsync={handleSyncData} count={recCount} ontotal={handletotal}></c-generic-pagination>
        

        <div class="slds-grid slds-gutters slds-m-top_small">
            <div class="slds-col slds-size_3-of-4">
               
            </div>
            <div class="slds-col slds-size_1-of-4">
                <lightning-button variant="brand" label="Save and Continue" onclick={handleSave}
                ></lightning-button>
            </div>

        </div> 

        
        

</template>

<template if:true={renderIncData}>
    <p class='slds-text-heading_medium'>
        <b>Avaiblable Discounts for this order</b>
    </p>
    <template for:each={incdata} for:item="item">
        <c-inc-selection-comp key={item} record={item} onincselect={IncSelected}></c-inc-selection-comp>
    </template>
    <div class="slds-grid slds-gutters slds-m-top_small">
        <div class="slds-col slds-size_3-of-4">
           
        </div>
        <div class="slds-col slds-size_1-of-4">
            <lightning-button variant="brand" label="Submit Order" onclick={handleSubmit}
            ></lightning-button>
        </div>

    </div> 

</template>



</div>
     
</template>
</template>